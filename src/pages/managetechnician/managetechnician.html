<!--
  Generated template for the Managetechnician page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border no-shadow>
  <ion-navbar no-border-bottom transparent>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <!-- <ion-buttons right>
      <button ion-button filter (click)="filterTechnician()">
        <ion-icon name="funnel" isActive="false"></ion-icon>
      </button>   -->
    <!-- </ion-buttons> -->
    <ion-title>TECHNICIANS</ion-title>
  </ion-navbar>

  <div class="aiit-div-segment-root">
    <ion-segment [(ngModel)]="status">
      <ion-segment-button class="aiit-segment-nav" value="MyTechnicians">
        MY TECHNICIANS
      </ion-segment-button>
      <ion-segment-button class="aiit-segment-nav" value="Technicians">
        ALL TECHNICIANS
      </ion-segment-button>
    </ion-segment>
  </div>

</ion-header>

<ion-content>
  <div [ngSwitch]="status">
    <ion-item class="task-list-sorting" *ngIf="(status == 'MyTechnicians' && myTechnician.length) || (status == 'Technicians' && technician.length)">
      <ion-label id="sortFilter-label">Sort By</ion-label>
      <ion-select id="selectFilter" [(ngModel)]="sortFilter" (ionChange)="onChange()">
        <ion-option value="branch">Branch Location</ion-option>
        <ion-option value="specialty">Specialties</ion-option>
        <ion-option value="technician">Senior or Junior technician</ion-option>
      </ion-select>
    </ion-item>

    <ion-list *ngSwitchCase="'MyTechnicians'">
      <ion-item class="task-list-item" *ngFor="let myTechnicians of myTechnician; let i = index" (click)="technicianSelected(myTechnicians)">
        <div class="row text-center">
          <img class="avatar-list-item-big" src="assets/images/default_profile.png">
          <div style="margin-left: 10px;" class="text">
            <p class="task-list-date">{{ myTechnicians.EMP_INITIALS }}</p>
            <p class="task-list-title">{{ myTechnicians.EMP_LAST_NAME }}</p>
            <p class="task-list-description">{{ myTechnicians.REMARKS }}</p>
          </div>
        </div>
      </ion-item>
    </ion-list>
    <ion-list *ngSwitchCase="'Technicians'">
      <ion-item class="task-list-item" *ngFor="let technicians of technician; let i = index" (click)="technicianSelected(technicians)">
        <div class="row text-center">
          <img class="avatar-list-item-big" src="assets/images/default_profile.png">
          <div style="margin-left: 10px;" class="text">
            <p class="task-list-date">{{ technicians.EMP_INITIALS }}</p>
            <p class="task-list-title">{{ technicians.EMP_LAST_NAME }}</p>
            <p class="task-list-description">{{ technicians.REMARKS }}</p>
          </div>
        </div>
      </ion-item>
    </ion-list>
  </div>

  <div *ngIf="status == 'MyTechnicians' && !myTechnician.length" class="empty-state">
    <p>You dont have any technicians.<br />
      <span style="font-size: 12px;">Start adding technicians to create and assign tasks.</span><br /><br />
      <button class="common_clear_button_gray_text" type='submit' (click)="viewAllTechnicians()">View All Technicians</button></p>
  </div>

  <div *ngIf="status == 'Technicians' && !technician.length" class="empty-state">
    No technicians found.
  </div>

  <ion-fab class="common-fab-container">
    <button ion-fab class="common-fab-button" (click)="onFiltersPagePage()">
          <ion-icon ios="ios-funnel" md="md-funnel"></ion-icon>
        </button>
  </ion-fab>

</ion-content>
<ion-footer>

</ion-footer>