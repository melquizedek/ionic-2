<!--
  Generated template for the MyServiceReport page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border no-shadow>
  <ion-navbar no-border-bottom transparent>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>MY SERVICE REPORTS</ion-title>
  </ion-navbar>

    <div class="aiit-div-segment-root">
    <ion-segment [(ngModel)]="status">
      <ion-segment-button   class="aiit-segment-nav" value="Pending">
        PENDING
      </ion-segment-button>
      <ion-segment-button  class="aiit-segment-nav" value="Approved">
        APPROVED
      </ion-segment-button>
    </ion-segment>
  </div>
</ion-header>

<ion-content >


  <div [ngSwitch]="status">
    <ion-item class="task-list-sorting" *ngIf= "(status == 'Pending' && pendingReport.length) || (status == 'Approved' && approvedReport.length)">
      <ion-label id="sortFilter-label">Sort By</ion-label>
       <ion-select id="selectFilter" [(ngModel)]="sortFilter"  (ionChange)="onChange()">
        <ion-option value="reportdate">Most Recent</ion-option>
        <!--<ion-option value="datecompleted"></ion-option>-->
      </ion-select>
    </ion-item>
    <ion-list *ngSwitchCase="'Pending'">
      <ion-item class="task-list-item" *ngFor="let pendingReports of pendingReport; let i = index" (click)="taskSelected(pendingReports)">
        <p class="task-list-date">{{ pendingReports.TIMESTAMP }}</p>
        <!--<p class="task-list-date">{{ pendingReports.SERVICE_DATE }}</p>-->
         <p class="task-list-title">{{ pendingReports.TITLE }}</p>
      </ion-item>
    </ion-list>
    <ion-list *ngSwitchCase="'Approved'">
      <ion-item class="task-list-item" *ngFor="let approvedReports of approvedReport; let i = index" (click)="taskSelected(approvedReports)">
        <p class="task-list-date">{{ approvedReports.TIMESTAMP }}</p>
        <!--<p class="task-list-date">{{ approvedReports.SERVICE_DATE }}</p>-->
        <p class="task-list-title">{{ approvedReports.TITLE }}</p>  
         </ion-item>
    </ion-list>


  <!--<div [ngSwitch]="status">  
    <ion-list *ngSwitchCase="'Pending'">
      <ion-item class="task-list-item" *ngFor="let pendingReports of pendingReport; let i = index" (click)="taskSelected(pendingReports)">
        <p class="task-list-date">{{ pendingReports.DATE_PROMISED }}</p>
        <p class="task-list-title">{{ pendingReports.TASK_DESCRIPTION }}</p>
      </ion-item>
    </ion-list>
    <ion-list *ngSwitchCase="'Approved'">
      <ion-item class="task-list-item" *ngFor="let approvedReports of approvedReport; let i = index" (click)="taskSelected(approvedReports)">
        <p class="task-list-date">{{ approvedReports.DATE_PROMISED }}</p>
        <p class="task-list-title">{{ approvedReports.TASK_DESCRIPTION }}</p>  
         </ion-item>
    </ion-list>-->

    <!--ion-fab style="bottom: 30px; right: 30px">
        <button ion-fab class="add-task-button" (click)="addNewTask()">+</button>
    </ion-fab-->    
  </div>

  <div *ngIf="status == 'Pending' && !pendingReport.length" class="empty-state">
        No service reports found.
  </div>

  <div *ngIf="status == 'Approved' && !approvedReport.length" class="empty-state">
        No service reports found.
  </div>


</ion-content>
